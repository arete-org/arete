/*
  Global styles capture the contemplative visual language from the HTML prototype while
  making it reusable across React components. Palette variables remain identical so we
  can maintain the warm library tone in both light and dark themes.
*/
:root {
  --bg: #fdfcf9;
  --bg-soft: #f7f2e9;
  --bg-alt: #f4f1ea;
  --bg-accent: #f9f8f6;
  --text: #2b2a27;
  --subtle-text: #5b574f;
  --accent: #4a7c59;
  --accent-muted: #7ea089;
  --highlight: #c1a057;
  --rust: #a97b63;
  --link: #546a7b;
  --border: #e3ddd2;
  --hover-bg: #e9ecdf;
  --shadow: rgba(52, 52, 52, 0.08);
  --backdrop-pattern: radial-gradient(circle at 18% 22%, rgba(202, 181, 141, 0.12), transparent 55%),
    radial-gradient(circle at 82% 16%, rgba(116, 150, 126, 0.14), transparent 52%),
    radial-gradient(circle at 50% 88%, rgba(186, 140, 110, 0.12), transparent 58%),
    linear-gradient(135deg, rgba(255, 255, 255, 0.06) 0%, rgba(80, 70, 60, 0.06) 100%);
  --body-font: 'Iowan Old Style', 'Palatino Linotype', 'Book Antiqua', serif;
  --mono-font: 'SFMono-Regular', 'JetBrains Mono', 'Courier New', monospace;
  --sans-font: 'Source Serif Pro', 'Noto Serif', serif;
  --max-width: 960px;
  --transition-speed: 200ms;
}

/* Dark theme leans into mossy greens and bronze to keep the night mode legible and calm. */
[data-theme='dark'] {
  --bg: #1c1b1a;
  --bg-soft: #23221f;
  --bg-alt: #292622;
  --bg-accent: #2d2a25;
  --text: #f3f0ea;
  --subtle-text: #d0c8bc;
  --accent: #6a8d73;
  --accent-muted: #8ea58e;
  --highlight: #c49d6e;
  --rust: #a8715a;
  --link: #a0b8c5;
  --border: #3f3c35;
  --hover-bg: #333029;
  --shadow: rgba(0, 0, 0, 0.3);
  --backdrop-pattern: radial-gradient(circle at 18% 22%, rgba(124, 103, 72, 0.28), transparent 60%),
    radial-gradient(circle at 82% 16%, rgba(92, 130, 102, 0.22), transparent 58%),
    radial-gradient(circle at 55% 86%, rgba(132, 90, 70, 0.24), transparent 60%),
    linear-gradient(140deg, rgba(24, 24, 24, 0.78) 0%, rgba(36, 36, 36, 0.7) 100%);
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
  background-color: var(--bg);
  color: var(--text);
  font-family: var(--body-font);
  line-height: 1.65;
  transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease;
}

body {
  display: flex;
  justify-content: center;
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
}

/*
  Soft ambient pattern referencing observatory domes and quiet study rooms.
  Anchored to the viewport so scrolling keeps the texture in place.
*/
body::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: var(--backdrop-pattern);
  opacity: 0.75;
  transition: opacity var(--transition-speed) ease;
}

.app-shell {
  width: min(100%, var(--max-width));
  padding: 4.5rem 1.75rem 4rem;
}

main > section {
  margin-bottom: 4rem;
}

h1,
h2,
h3 {
  font-family: var(--sans-font);
  letter-spacing: 0.035em;
  margin: 0 0 1.2rem;
}

p {
  margin-top: 0;
  margin-bottom: 1.5rem;
  max-width: 72ch;
}

a {
  color: var(--link);
  transition: color var(--transition-speed) ease;
}

a:hover,
a:focus {
  color: color-mix(in srgb, var(--accent) 70%, var(--link) 30%);
  outline: none;
}

.site-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  margin-bottom: 3.5rem;
}

.site-title-group {
  display: flex;
  flex-direction: column;
  gap: 0.2rem;
}

.site-mark {
  font-size: clamp(1.35rem, 2.4vw, 1.75rem);
  letter-spacing: 0.24em;
  text-transform: uppercase;
  margin: 0;
  font-family: var(--mono-font);
  font-weight: 600;
  color: color-mix(in srgb, var(--text) 85%, var(--accent) 15%);
  line-height: 1.1;
}

.site-tagline {
  margin: 0;
  font-size: 0.95rem;
  color: var(--subtle-text);
}

.theme-toggle {
  border: 1px solid var(--border);
  background-color: color-mix(in srgb, var(--bg) 92%, var(--accent) 8%);
  color: var(--text);
  font-family: var(--mono-font);
  font-size: 0.95rem;
  padding: 0.55rem 1.2rem;
  cursor: pointer;
  transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease,
    border-color var(--transition-speed) ease;
}

.theme-toggle:hover,
.theme-toggle:focus {
  background-color: var(--hover-bg);
  border-color: color-mix(in srgb, var(--accent) 60%, var(--border) 40%);
  outline: none;
}

.hero {
  margin-top: 3.4rem;
}

.hero-copy h1 {
  font-size: clamp(1.4rem, calc((100vw - 2rem) / 24), 2.7rem);
  white-space: nowrap;
  letter-spacing: 0.015em;
}

@media (max-width: 420px) {
  .hero-copy h1 {
    font-size: 1.15rem;
  }
}

.hero-copy p {
  font-size: 1.1rem;
  letter-spacing: 0.02em;
}

.cta-group {
  display: flex;
  flex-wrap: wrap;
  gap: 0.85rem;
  margin-top: 2rem;
}

.cta-button {
  border: 1px solid var(--border);
  padding: 0.85rem 1.6rem;
  text-decoration: none;
  font-family: var(--mono-font);
  font-size: 0.95rem;
  color: var(--text);
  transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease,
    border-color var(--transition-speed) ease;
}

.cta-button.primary {
  background-color: var(--accent);
  border-color: color-mix(in srgb, var(--accent) 80%, var(--border) 20%);
  color: #fefefe;
  box-shadow: 0 12px 30px color-mix(in srgb, var(--accent) 25%, transparent 75%);
}

.cta-button.secondary {
  background-color: color-mix(in srgb, var(--bg) 90%, var(--hover-bg) 10%);
}

.cta-button:hover,
.cta-button:focus {
  background-color: var(--hover-bg);
  border-color: color-mix(in srgb, var(--accent) 55%, var(--border) 45%);
}

.cta-button.primary:hover,
.cta-button.primary:focus {
  background-color: color-mix(in srgb, var(--accent) 88%, #ffffff 12%);
}

.bio-wrapper {
  display: grid;
  gap: 2rem;
  grid-template-columns: 220px 1fr;
  align-items: start;
}

@media (max-width: 760px) {
  .bio-wrapper {
    grid-template-columns: 1fr;
  }
}

.profile-placeholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.85rem;
}

.profile-inner {
  width: 200px;
  height: 200px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.6), transparent 70%),
    radial-gradient(circle at 70% 70%, color-mix(in srgb, var(--accent) 40%, transparent 60%), transparent 75%),
    color-mix(in srgb, var(--bg-soft) 80%, var(--accent-muted) 20%);
  display: grid;
  place-items: center;
  box-shadow: 0 18px 40px var(--shadow);
}

.profile-initial {
  font-size: 3.4rem;
  font-family: var(--mono-font);
  color: color-mix(in srgb, var(--accent) 70%, var(--text) 30%);
}

.profile-caption {
  font-family: var(--mono-font);
  font-size: 0.85rem;
  color: var(--subtle-text);
  text-transform: uppercase;
  letter-spacing: 0.09em;
}

.interaction {
  margin-top: 2rem;
  padding: 2rem;
  border-radius: 20px;
  border: 1px solid color-mix(in srgb, var(--border) 70%, var(--accent) 30%);
  background-color: color-mix(in srgb, var(--bg) 88%, var(--bg-accent) 12%);
  box-shadow: 0 18px 40px var(--shadow);
}

[data-theme='dark'] .interaction {
  background-color: color-mix(in srgb, var(--bg-alt) 85%, rgba(255, 255, 255, 0.05) 15%);
  border-color: color-mix(in srgb, var(--border) 60%, rgba(255, 255, 255, 0.14) 40%);
}

.interaction-subtitle {
  margin: 0 0 0.4rem;
  font-family: var(--mono-font);
  font-size: 0.85rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: color-mix(in srgb, var(--subtle-text) 80%, var(--accent) 20%);
}

.interaction-heading {
  font-family: var(--sans-font);
  font-size: 1.25rem;
  letter-spacing: 0.02em;
  display: block;
  margin-bottom: 0.6rem;
}

.interaction-guidance {
  margin: 0 0 1.4rem;
  color: var(--subtle-text);
}

.interaction-form {
  display: flex;
  flex-wrap: wrap;
  gap: 0.9rem;
  align-items: center;
}

.interaction-label {
  flex-basis: 100%;
  font-family: var(--mono-font);
  font-size: 0.85rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--subtle-text);
}

.interaction-input {
  flex: 1 1 260px;
  min-width: 0;
  border: 1px solid var(--border);
  padding: 0.75rem 1rem;
  font-size: 1rem;
  font-family: var(--body-font);
  background-color: var(--bg);
  color: var(--text);
  transition: border-color var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
}

.interaction-input:focus {
  outline: none;
  border-color: color-mix(in srgb, var(--accent) 60%, var(--border) 40%);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 25%, transparent 75%);
}

.interaction-submit {
  border: 1px solid color-mix(in srgb, var(--accent) 80%, var(--highlight) 20%);
  background-color: var(--accent);
  color: #ffffff;
  font-family: var(--mono-font);
  font-size: 0.95rem;
  padding: 0.75rem 1.4rem;
  cursor: pointer;
  transition: background-color var(--transition-speed) ease, border-color var(--transition-speed) ease,
    box-shadow var(--transition-speed) ease;
}

.interaction-submit:hover,
.interaction-submit:focus {
  background-color: color-mix(in srgb, var(--accent) 85%, #ffffff 15%);
  border-color: color-mix(in srgb, var(--accent) 75%, var(--border) 25%);
  outline: none;
  box-shadow: 0 12px 28px color-mix(in srgb, var(--accent) 18%, transparent 82%);
}

.interaction-submit:disabled {
  cursor: progress;
  opacity: 0.75;
}

.interaction-status {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  min-height: 2.2rem;
  margin-top: 1.5rem;
  font-family: var(--mono-font);
  font-size: 0.9rem;
  color: var(--subtle-text);
}

.spinner {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: 2px solid color-mix(in srgb, var(--accent) 35%, transparent 65%);
  border-top-color: var(--accent);
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.interaction-output {
  margin-top: 1rem;
  padding: 1.2rem 1.4rem;
  border-left: 3px solid var(--accent);
  background-color: color-mix(in srgb, var(--bg-soft) 92%, var(--accent-muted) 8%);
  font-family: var(--body-font);
  font-size: 1rem;
  min-height: 3.5rem;
  white-space: pre-wrap;
}

[data-theme='dark'] .interaction-output {
  background-color: color-mix(in srgb, var(--bg-alt) 92%, rgba(255, 255, 255, 0.08) 8%);
  border-left-color: color-mix(in srgb, var(--accent) 70%, rgba(255, 255, 255, 0.2) 30%);
}

.card-grid {
  display: grid;
  gap: 1.4rem;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.card {
  border: 1px solid var(--border);
  padding: 1.6rem;
  border-radius: 16px;
  background-color: color-mix(in srgb, var(--bg) 90%, var(--bg-alt) 10%);
  transition: border-color var(--transition-speed) ease, background-color var(--transition-speed) ease,
    transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
}

.card:hover,
.card:focus-within {
  border-color: color-mix(in srgb, var(--accent) 55%, var(--border) 45%);
  background-color: color-mix(in srgb, var(--bg-soft) 75%, var(--accent-muted) 25%);
  transform: translateY(-6px);
  box-shadow: 0 18px 36px var(--shadow);
}

[data-theme='dark'] .card {
  background-color: color-mix(in srgb, var(--bg-alt) 88%, rgba(255, 255, 255, 0.04) 12%);
  border-color: color-mix(in srgb, var(--border) 80%, rgba(255, 255, 255, 0.08) 20%);
}

[data-theme='dark'] .card:hover,
[data-theme='dark'] .card:focus-within {
  background-color: color-mix(in srgb, var(--bg-soft) 75%, rgba(255, 255, 255, 0.12) 25%);
}

.inline-cta {
  display: inline-flex;
  align-items: center;
  gap: 0.45rem;
  margin-top: 1.8rem;
  font-family: var(--mono-font);
  font-size: 0.9rem;
  text-decoration: none;
  padding-bottom: 0.15rem;
  border-bottom: 1px dashed color-mix(in srgb, var(--link) 70%, transparent 30%);
}

.inline-cta:hover,
.inline-cta:focus {
  border-bottom-color: color-mix(in srgb, var(--accent) 60%, transparent 40%);
}

.services-grid {
  display: grid;
  gap: 1.6rem;
}

@media (min-width: 860px) {
  .services-grid {
    grid-template-columns: repeat(2, minmax(260px, 1fr));
  }
}

.feature-card {
  border: 1px solid var(--border);
  background-color: color-mix(in srgb, var(--bg) 88%, var(--bg-alt) 12%);
  border-radius: 16px;
  padding: 1.8rem 1.6rem;
  position: relative;
  overflow: hidden;
  transition: transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease,
    border-color var(--transition-speed) ease;
}

.feature-card::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 16px;
  border: 1px solid transparent;
  transition: border-color var(--transition-speed) ease;
}

.feature-card:hover,
.feature-card:focus-within {
  transform: translateY(-6px);
  box-shadow: 0 18px 36px var(--shadow);
}

.feature-card:hover::after,
.feature-card:focus-within::after {
  border-color: color-mix(in srgb, var(--accent) 45%, transparent 55%);
}

[data-theme='dark'] .feature-card {
  background-color: color-mix(in srgb, var(--bg-alt) 90%, rgba(255, 255, 255, 0.05) 10%);
  border-color: color-mix(in srgb, var(--border) 80%, rgba(255, 255, 255, 0.08) 20%);
}

[data-theme='dark'] .feature-card:hover,
[data-theme='dark'] .feature-card:focus-within {
  background-color: color-mix(in srgb, var(--bg-soft) 78%, rgba(255, 255, 255, 0.12) 22%);
}

.feature-card--wide {
  grid-column: 1 / -1;
}

.feature-card__body h3 {
  margin-bottom: 0.6rem;
}

.feature-quote {
  font-family: var(--mono-font);
  font-size: 0.9rem;
  color: color-mix(in srgb, var(--subtle-text) 80%, var(--accent) 20%);
  margin-top: 1.3rem;
}

.arete {
  position: relative;
  overflow: hidden;
  padding: 2.6rem;
  border-radius: 24px;
  background-color: color-mix(in srgb, var(--bg-soft) 88%, var(--bg-accent) 12%);
  border: 1px solid color-mix(in srgb, var(--border) 75%, var(--accent) 25%);
  box-shadow: 0 20px 44px var(--shadow);
}

[data-theme='dark'] .arete {
  background-color: color-mix(in srgb, var(--bg-alt) 85%, rgba(255, 255, 255, 0.06) 15%);
  border-color: color-mix(in srgb, var(--border) 60%, rgba(255, 255, 255, 0.16) 40%);
}

.arete-background {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.arete-background svg {
  position: absolute;
  top: 1.4rem;
  right: 1.4rem;
  width: min(320px, 45%);
  height: auto;
  opacity: 0.28;
}

.arete-constellation circle {
  fill: color-mix(in srgb, var(--accent) 38%, rgba(255, 255, 255, 0.7) 62%);
  stroke: color-mix(in srgb, var(--accent) 50%, transparent 50%);
  stroke-width: 1.4;
}

.arete-constellation path {
  stroke: color-mix(in srgb, var(--accent) 40%, rgba(255, 255, 255, 0.4) 60%);
  stroke-width: 1.4;
  fill: none;
  stroke-dasharray: 4 6;
}

.arete-constellation text {
  font-family: var(--mono-font);
  font-size: 0.75rem;
  letter-spacing: 0.08em;
  fill: color-mix(in srgb, var(--text) 42%, var(--accent) 58%);
}

.note {
  margin-top: 4rem;
}

.note-from-daneel {
  border: 1px solid color-mix(in srgb, var(--highlight) 55%, var(--border) 45%);
  border-top: 6px solid var(--highlight);
  border-radius: 20px;
  padding: 3rem 2.6rem;
  font-family: 'EB Garamond', 'Iowan Old Style', serif;
  font-size: 1.08rem;
  letter-spacing: 0.015em;
  line-height: 1.9;
  box-shadow: 0 14px 34px var(--shadow);
  background:
    linear-gradient(160deg, color-mix(in srgb, var(--bg-soft) 82%, rgba(255, 255, 255, 0.55) 18%),
      color-mix(in srgb, var(--bg) 92%, var(--highlight) 8%));
  background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"%3E%3Cdefs%3E%3CradialGradient id="paper" cx="0" cy="0" r="1" gradientTransform="translate(100 100) rotate(90) scale(100)"%3E%3Cstop offset="0" stop-color="%23ffffff" stop-opacity="0.35"/%3E%3Cstop offset="1" stop-color="%23ffffff" stop-opacity="0"/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect width="200" height="200" fill="url(%23paper)"/%3E%3C/svg%3E');
  background-size: 260px;
}

.note-from-daneel p {
  margin-bottom: 1.3rem;
  color: color-mix(in srgb, var(--text) 88%, var(--subtle-text) 12%);
}

.note-from-daneel p:last-child {
  margin-bottom: 0;
}

[data-theme='dark'] .note-from-daneel {
  background:
    linear-gradient(160deg, color-mix(in srgb, var(--bg-soft) 78%, rgba(255, 255, 255, 0.18) 22%),
      color-mix(in srgb, var(--bg) 90%, rgba(255, 255, 255, 0.1) 10%));
  background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"%3E%3Cdefs%3E%3CradialGradient id="paper-dark" cx="0" cy="0" r="1" gradientTransform="translate(100 100) rotate(90) scale(100)"%3E%3Cstop offset="0" stop-color="%23c7b291" stop-opacity="0.22"/%3E%3Cstop offset="1" stop-color="%23000000" stop-opacity="0"/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect width="200" height="200" fill="url(%23paper-dark)"/%3E%3C/svg%3E');
  background-size: 260px;
  border-color: color-mix(in srgb, var(--highlight) 45%, rgba(255, 255, 255, 0.25) 55%);
  border-top-color: color-mix(in srgb, var(--highlight) 65%, rgba(255, 255, 255, 0.35) 35%);
}

.site-footer {
  margin-top: 4.5rem;
  border-top: 1px solid var(--border);
  padding-top: 1.8rem;
  font-size: 0.86rem;
  color: var(--subtle-text);
  display: flex;
  flex-direction: column;
  gap: 0.9rem;
}

.site-footer a {
  color: inherit;
  text-decoration: none;
}

.site-footer a:hover,
.site-footer a:focus {
  text-decoration: underline;
}

.site-footer details {
  font-family: var(--mono-font);
  font-size: 0.8rem;
}

.site-footer summary {
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
}

.site-footer summary::after {
  content: '▾';
  font-size: 0.7rem;
}

.site-footer details[open] summary::after {
  content: '▴';
}

.footer-menu {
  list-style: none;
  padding-left: 0;
  margin: 0.6rem 0 0;
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}

@media (max-width: 700px) {
  .site-header {
    flex-direction: column;
    align-items: flex-start;
  }

  .interaction-form {
    flex-direction: column;
    align-items: stretch;
  }

  .interaction-submit {
    width: 100%;
  }

  .inline-cta {
    justify-content: flex-start;
  }
}
